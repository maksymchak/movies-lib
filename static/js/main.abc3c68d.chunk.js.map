{"version":3,"sources":["components/app-header/new-logo.png","components/hoc/with-moviestore-service.js","components/app-header/index.js","components/app-header/app-header.js","components/movie-list-item/index.js","components/movie-list-item/movie-list-item.js","components/moviestore-service-context/moviestore-service-context.js","components/filter-panel/index.js","components/filter-panel/filter-panel.js","components/movie-loader/index.js","components/movie-loader/movie-loader.js","components/movie-list/movie-list.js","actions/index.js","components/movie-list/index.js","components/pages/home-page.js","components/new-movie/new-movie.js","components/new-movie/index.js","components/add-form/add-form.js","components/add-form/index.js","components/app/index.js","components/app/app.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/moviestore-service.js","reducers/index.js","store.js","index.js"],"names":["module","exports","Wrapped","AppHeader","className","href","src","logo","alt","MovieListItem","movie","removeMovie","title","releaseYear","format","stars","onClick","e","stopPropagation","React","createContext","MoviestoreServiceProvider","Provider","MoviestoreServiceConsumer","Consumer","FilterPanel","onSearchChange","term","target","value","props","sortAlgorithm","data","order","sort","a","b","toLowerCase","localeCompare","sortAlphabetical","visibleItems","sortTitle","sortMovies","toggleTitle","this","deleteMovies","searchTerm","type","placeholder","onChange","Component","MovieLoader","listLoaded","maxId","htmlFor","id","name","preventDefault","file","files","reader","FileReader","onload","text","result","split","pop","map","movieSplit","getValue","key","filter","item","startsWith","join","substr","length","readAsText","console","log","MovieList","state","setState","moviestoreService","getMovies","moviesLoaded","items","includes","movies","search","hasData","mapDispatchToProps","newMovies","payload","currentMovies","itemId","connect","HomePage","NewMovie","handleTextChange","handleSubmit","addMovie","onClose","onSubmit","required","min","max","defaultValue","disabled","rows","newMovie","Modal","modalRoot","document","getElementById","ReactDOM","createPortal","children","AddForm","isOpen","toggleModal","App","ErrorIndicator","ErrorBoundry","hasError","MoviesstoreService","initialState","deleteItem","idx","findIndex","el","slice","reducer","action","store","createStore","MoviestoreService","render"],"mappings":"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","file":"static/js/main.abc3c68d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/new-logo.b2849ae5.png\";","import React from 'react';\r\n\r\nimport { MoviestoreServiceConsumer } from '../moviestore-service-context';\r\n\r\nconst withMoviestoreService = () => (Wrapped) => {\r\n  return (props) => {\r\n    return (\r\n      <MoviestoreServiceConsumer>\r\n        {\r\n          (moviestoreService) => {\r\n            return (<Wrapped {...props} moviestoreService={moviestoreService}/>)\r\n          }\r\n        }\r\n      </MoviestoreServiceConsumer>  \r\n    );\r\n  }\r\n};\r\n\r\nexport {\r\n  withMoviestoreService\r\n};","import AppHeader from './app-header';\r\n\r\nexport default AppHeader;\r\n","import React from 'react';\r\n\r\nimport './app-header.css';\r\nimport logo from './new-logo.png';\r\n\r\nconst AppHeader = () => {\r\n  return(\r\n    <header className=\"header\">\r\n      <a className=\"header-logo\" href=\"#/\">\r\n        <img src={logo} className=\"img-responsive\" alt=\"logo-movie\"/>\r\n      </a>\r\n      <h1 className=\"header-title\">Movies lib</h1>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default AppHeader;","import MovieListItem from './movie-list-item';\r\n\r\nexport default MovieListItem;\r\n","import React from 'react';\r\n\r\nimport './movie-list-item.css';\r\n\r\nconst MovieListItem = ({ movie, removeMovie }) => {\r\n  const { title, releaseYear, format, stars } = movie;\r\n\r\n  const onDelete = (e) => {\r\n    e.stopPropagation();\r\n    removeMovie();\r\n  }\r\n\r\n  return (\r\n    <div className=\"movie\">\r\n      <h4 className=\"movie__title\">\r\n        <i className=\"movie__icon material-icons\">movie</i>\r\n        <span title={title}>{title}</span>\r\n      </h4>\r\n\r\n      <div className=\"movie__release\">\r\n        <span className=\"movie__subtitle\">Release Year:</span>\r\n        <h4 className=\"movie-year movie-add\">{releaseYear}</h4>\r\n      </div>\r\n\r\n      <div className=\"movie__format\">\r\n        <span className=\"movie__subtitle\">Format:</span>\r\n        <h4 className=\"movie-format movie-add\">{format}</h4>\r\n      </div>\r\n\r\n      {stars && <p className=\"movie__stars\">\r\n        <span className=\"movie__subtitle\">Stars:</span>\r\n        {stars}\r\n      </p>}\r\n\r\n      <a className=\"btn btn-trash movie__btn-trash\" onClick={onDelete} href=\"#/\">\r\n        <i className=\"material-icons\">delete</i>\r\n      </a>            \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieListItem;\r\n","import React from 'react';\r\n\r\nconst {\r\n  Provider: MoviestoreServiceProvider,\r\n  Consumer: MoviestoreServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n  MoviestoreServiceProvider,\r\n  MoviestoreServiceConsumer\r\n};","import FilterPanel from './filter-panel';\r\n\r\nexport default FilterPanel;","import React, { Component } from 'react';\r\n\r\nimport './filter-panel.css';\r\n\r\nexport default class FilterPanel extends Component {\r\n\r\n  onSearchChange = (e) => {\r\n    const term = e.target.value;\r\n    this.props.onSearchChange(term);\r\n  };\r\n\r\n  sortAlgorithm = (data, order) => {\r\n    return data.sort((a, b) => a.title.toLowerCase().localeCompare(b.title.toLowerCase()) * order);\r\n  }\r\n\r\n  sortAlphabetical = () => {\r\n    const { visibleItems, sortTitle, sortMovies, toggleTitle } = this.props;\r\n    sortMovies(this.sortAlgorithm(visibleItems, sortTitle));\r\n    toggleTitle();\r\n  }\r\n\r\n  render() {\r\n    const { deleteMovies, searchTerm } = this.props;\r\n\r\n    return (\r\n      <div className=\"movies-controls\">\r\n        <div className=\"search\">\r\n          <input  type=\"text\" \r\n            className=\"searchTerm\" \r\n            placeholder=\"What are you looking for?\"\r\n            value={searchTerm}\r\n            onChange={this.onSearchChange} />\r\n        </div>\r\n\r\n        <a className=\"btn btn-sort\" onClick={this.sortAlphabetical} href=\"#/\">\r\n          <span>Sort by title</span>\r\n          <i className=\"material-icons\">sort</i>\r\n        </a>\r\n        \r\n        <a className=\"btn btn-trash\" onClick={deleteMovies} href=\"#/\">\r\n          <span>Delete all</span>\r\n          <i className=\"material-icons\">delete</i>\r\n        </a>\r\n      </div>\r\n    );    \r\n  }\r\n}\r\n\r\n\r\n","import MovieLoader from './movie-loader';\r\n\r\nexport default MovieLoader;","import React from 'react';\r\n\r\nimport './movie-loader.css';\r\n\r\nconst MovieLoader = ({ listLoaded }) => {\r\n\r\n  let maxId = 100;\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    const file = e.target.files[0];\r\n\r\n    if(file) {\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = () => {\r\n        const text = reader.result.split(/\\n+\\s/);\r\n        text.pop();\r\n\r\n        const data = text.map((movie) => {\r\n          const movieSplit = movie.split(/\\n+/);\r\n\r\n          const getValue = (key) => {\r\n            return movieSplit.filter(item => item.startsWith(key)).join().substr(key.length);\r\n          };\r\n\r\n          const newData = {\r\n            id: maxId++,\r\n            title: getValue('Title: '),\r\n            releaseYear: getValue('Release Year: '),\r\n            format: getValue('Format: '),\r\n            stars: getValue('Stars: ')\r\n          };\r\n          \r\n          return newData;\r\n        });\r\n\r\n        listLoaded(data);\r\n      };\r\n\r\n      reader.readAsText(file);\r\n    } else {\r\n      console.log('File not supported!'); \r\n    }\r\n  };\r\n\r\n  return(\r\n    <div className=\"movies-attach-file\">\r\n      <label htmlFor=\"file\">\r\n        <a className=\"btn btn-file\">\r\n          <span>Choose a file</span>\r\n          <i className=\"material-icons\">attach_file</i>\r\n        </a>  \r\n      </label>\r\n      <input className=\"movies-file\" id=\"file\" type=\"file\" name=\"Movies File\" \r\n          onChange={handleChange} />\r\n    </div>    \r\n  );\r\n}\r\n\r\nexport default MovieLoader;","import React, { Component, Fragment } from 'react';\r\nimport MovieListItem from '../movie-list-item';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withMoviestoreService } from '../hoc';\r\nimport { moviesLoaded, listLoaded, deleteMovies,\r\n   onSearchChange, sortMovies, removeMovie } from '../../actions';\r\nimport FilterPanel from '../filter-panel';\r\nimport MovieLoader from '../movie-loader';\r\n\r\nimport './movie-list.css';\r\n\r\nclass MovieList extends Component {\r\n\r\n  state = {\r\n    sortTitle: 1\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { moviestoreService } = this.props;\r\n    const data = moviestoreService.getMovies();\r\n    this.props.moviesLoaded(data);\r\n  }\r\n\r\n  search(items, term) {\r\n    if (term.length === 0) {\r\n      return items;\r\n    };\r\n\r\n    return items.filter((movie) => {\r\n      const title = movie.title.toLowerCase();\r\n      const stars = movie.stars.toLowerCase();\r\n      return title.includes(term.toLowerCase()) || stars.includes(term.toLowerCase());\r\n    });\r\n  }\r\n\r\n  toggleTitle =() => {\r\n    this.setState({\r\n      sortTitle: this.state.sortTitle === 1 ? -1 : 1\r\n    });\r\n  };\r\n\r\n\r\n  render() {\r\n    const { movies, listLoaded, deleteMovies, onSearchChange,\r\n       searchTerm, sortMovies, removeMovie } = this.props;\r\n\r\n    const visibleItems = this.search(movies, searchTerm);\r\n\r\n    const hasData = (visibleItems) ? visibleItems.map((movie) => {\r\n      return (\r\n        <li key={movie.id}>\r\n          <MovieListItem movie={movie} removeMovie={() => removeMovie(movie.id)} />\r\n        </li>\r\n      )\r\n    }) : null;\r\n\r\n    return (\r\n      <Fragment>\r\n        <section className=\"movies\">\r\n          <FilterPanel  deleteMovies={deleteMovies}\r\n            movies={movies}\r\n            onSearchChange={(term) => onSearchChange(term)}\r\n            searchTerm={searchTerm} sortTitle={this.state.sortTitle}\r\n            visibleItems={visibleItems} sortMovies={sortMovies}\r\n            toggleTitle={this.toggleTitle} />\r\n          <ul className=\"movies__list\">\r\n            { hasData }\r\n          </ul>\r\n        </section>\r\n        <MovieLoader listLoaded={listLoaded} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({movies, searchTerm}) => {\r\n  return { movies, searchTerm };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  moviesLoaded,\r\n  listLoaded,\r\n  deleteMovies,\r\n  onSearchChange,\r\n  sortMovies,\r\n  removeMovie\r\n};\r\n\r\nexport default withMoviestoreService()(connect(mapStateToProps, mapDispatchToProps)(MovieList));\r\n\r\n","const moviesLoaded = (newMovies) => {\r\n  return {\r\n    type: 'MOVIES_LOADED',\r\n    payload: newMovies\r\n  };\r\n};\r\n\r\nconst listLoaded = (newMovies) => {\r\n  return {\r\n    type: 'LIST_LOADED',\r\n    payload: newMovies\r\n  };\r\n};\r\n\r\nconst deleteMovies = () => {\r\n  return {\r\n    type: 'MOVIES_DELETED',\r\n    payload: []\r\n  };\r\n};\r\n\r\nconst onSearchChange = (term) => {\r\n  return {\r\n    type: 'MOVIES_SEARCH',\r\n    payload: term\r\n  };\r\n};\r\n\r\nconst sortMovies = (currentMovies) => {\r\n  return {\r\n    type: 'MOVIES_SORT',\r\n    payload: currentMovies\r\n  };\r\n};\r\n\r\nconst removeMovie = (itemId) => {\r\n  return {\r\n    type: 'MOVIE_DELETE',\r\n    payload: itemId\r\n  };\r\n};\r\n\r\nconst addMovie = (newMovie) => {\r\n  return {\r\n    type: 'MOVIE_ADD',\r\n    payload: newMovie\r\n  };\r\n};\r\n\r\nexport {\r\n  moviesLoaded,\r\n  listLoaded,\r\n  deleteMovies,\r\n  onSearchChange,\r\n  sortMovies,\r\n  removeMovie,\r\n  addMovie\r\n};\r\n\r\n","import MovieList from './movie-list';\r\n\r\nexport default MovieList;","import React from 'react';\r\n\r\nimport MovieList from '../movie-list';\r\n\r\nimport './home-page.css';\r\n\r\nconst HomePage = () => {\r\n  return(\r\n    <main className=\"main\">\r\n      <MovieList />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default HomePage;","import React, { Component } from 'react';\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport { addMovie } from '../../actions';\r\n\r\nimport './new-movie.css';\r\n\r\nclass NewMovie extends Component {\r\n  state = {\r\n    title: '',\r\n    releaseYear: '',\r\n    format: '',\r\n    stars: ''\r\n  };\r\n\r\n  handleTextChange = e => {\r\n    if (e) {\r\n      const {name, value} = e.target;\r\n\r\n      this.setState({\r\n        title: name === 'Title' ? value : this.state.title,\r\n        releaseYear: name === 'Release year' ? value : this.state.releaseYear,\r\n        format: name === 'Format' ? value : this.state.format,\r\n        stars: name === 'Stars' ? value : this.state.stars\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    if (e) {\r\n      e.preventDefault();\r\n      this.props.addMovie(this.state);\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { onClose } = this.props;\r\n\r\n    return (\r\n      <form className=\"new-movie\" onSubmit={this.handleSubmit}>\r\n        <section className=\"new-movie-header\">\r\n          <h3 className=\"new-movie-title\">New movie</h3>\r\n          <a className=\"btn btn-close\" onClick={onClose} href=\"#/\">\r\n            <i className=\"material-icons\">close</i>\r\n          </a>\r\n        </section>\r\n\r\n        <section className=\"new-movie-content\">\r\n          <div className=\"form-group\">\r\n            <label className=\"form-group__label\" htmlFor=\"title\" >Title</label>\r\n            <input className=\"form-group__input\"\r\n                id=\"title\"\r\n                name=\"Title\"\r\n                type=\"text\"\r\n                placeholder=\"Movie title\"\r\n                onChange={this.handleTextChange}\r\n                required/>\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label className=\"form-group__label\" htmlFor=\"releaseYear\">Release year</label>\r\n            <input className=\"form-group__input\"\r\n                id=\"releaseYear\"\r\n                name=\"Release year\"\r\n                type=\"number\"\r\n                placeholder=\"Release year\"\r\n                onChange={this.handleTextChange}\r\n                required\r\n                min=\"1900\"\r\n                max=\"2018\"/>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"form-group__label\" htmlFor=\"format\">Format</label>\r\n            <select className=\"form-group__select\" id=\"format\" name=\"Format\" onChange={this.handleTextChange}\r\n                value={this.state.format} required>\r\n              <option value=\"\" defaultValue=\"true\" disabled>Format</option>\r\n              <option value=\"VHS\">VHS</option>\r\n              <option value=\"DVD\">DVD</option>\r\n              <option value=\"Blu-Ray\">Blu-Ray</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group form-group-border-top\">\r\n            <textarea className=\"form-group__textarea\" name=\"Stars\" placeholder=\"Stars\" rows=\"3\"\r\n                onChange={this.handleTextChange}/>\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"new-movie-controls\">\r\n          <button className=\"btn-form btn-secondary\"\r\n              type=\"reset\"\r\n              onClick={onClose}>\r\n              Cancel\r\n          </button>\r\n          <button className=\"btn-form btn-primary\"\r\n              type=\"submit\">\r\n              Add\r\n          </button>\r\n        </section>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {addMovie};\r\n\r\nexport default connect(null, mapDispatchToProps)(NewMovie);\r\n","import NewMovie from './new-movie';\r\n\r\nexport default NewMovie;","import React, { Component, Fragment } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport NewMovie from '../new-movie';\r\n\r\nimport './add-form.css';\r\n\r\nclass Modal extends Component {\r\n  \r\n  render() {\r\n    const modalRoot = document.getElementById('modal-root');\r\n\r\n    return modalRoot && ReactDOM.createPortal(\r\n      this.props.children,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nclass AddForm extends Component {\r\n\r\n  state = {\r\n    isOpen: false\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }; \r\n\r\n  render() {\r\n    return(\r\n      <Fragment>\r\n        <a className=\"btn btn-add\" onClick={this.toggleModal} href=\"#/\">\r\n          <i className=\"material-icons\">add</i>\r\n        </a> \r\n        {this.state.isOpen &&\r\n        <Modal>\r\n          <div className=\"modal-overlay\">\r\n            <NewMovie onClose={this.toggleModal}/>\r\n          </div>\r\n        </Modal>}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddForm;\r\n","import AddForm from './add-form';\r\n\r\nexport default AddForm;","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\n\r\nimport AppHeader from '../app-header';\r\nimport { HomePage } from '../pages';\r\nimport AddForm from '../add-form';\r\n\r\nimport './app.css';\r\n\r\nconst App = () => {\r\n  return(\r\n    <div className=\"app\">\r\n      <AppHeader/>\r\n      <HomePage/>\r\n      <AddForm/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n\r\n","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = () => {\r\n  return <div> Error Indicator </div>\r\n};\r\n\r\nexport default ErrorIndicator;\r\n","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, { Component } from 'react';\r\n\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n  state = {\r\n    hasError: false\r\n  };\r\n\r\n  componentDidCatch() {\r\n    this.setState({ hasError: true })\r\n  }\r\n\r\n  render() {\r\n    if(this.state.hasError) {\r\n      return <ErrorIndicator/>\r\n    }\r\n\r\n    return this.props.children;\r\n  };\r\n}","export default class MoviesstoreService {\r\n  getMovies() {\r\n    return [\r\n      {\r\n        id: 1,\r\n        title: 'Jaws',\r\n        releaseYear: 1975,\r\n        format: 'VHS',\r\n        stars: 'Mel Brooks, Clevon Little, Harvey Korman, Gene Wilder, Slim Pickens, Madeline Kahn'\r\n      },\r\n      {\r\n        id: 2,\r\n        title: 'The Sting',\r\n        releaseYear: 1973,\r\n        format: 'DVD',\r\n        stars: 'Humphrey Bogart, Ingrid Bergman, Claude Rains, Peter Lorre'\r\n      }\r\n    ];\r\n  }\r\n}","const initialState = {\r\n  movies: [],\r\n  searchTerm: ''\r\n}\r\n\r\nconst deleteItem = (data, id) => {\r\n  const idx = data.findIndex((el) => el.id === id);\r\n  const newArray = [\r\n    ...data.slice(0, idx),\r\n    ...data.slice(idx + 1)\r\n  ];\r\n  return newArray;\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'MOVIES_LOADED':\r\n      return {\r\n        movies: action.payload,\r\n        searchTerm: ''\r\n      }\r\n    case 'LIST_LOADED':\r\n      return {\r\n        movies: [...state.movies, ...action.payload],\r\n        searchTerm: ''\r\n      }\r\n    case 'MOVIES_DELETED':\r\n      return {\r\n        movies: action.payload,\r\n        searchTerm: ''\r\n      }\r\n    case 'MOVIES_SEARCH':\r\n      return {\r\n        movies: state.movies,\r\n        searchTerm: action.payload\r\n      }\r\n    case 'MOVIES_SORT':\r\n      return {\r\n        movies: action.payload,\r\n        searchTerm: state.searchTerm\r\n      }\r\n    case 'MOVIE_DELETE':\r\n      return {\r\n        movies: deleteItem(state.movies, action.payload),\r\n        searchTerm: state.searchTerm\r\n      }\r\n    case 'MOVIE_ADD':\r\n      return {\r\n        movies: [...state.movies, action.payload],\r\n        searchTerm: state.searchTerm\r\n      }\r\n    default: \r\n    return state;\r\n  }\r\n};\r\n\r\nexport default reducer;","import { createStore } from 'redux';\r\n\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './components/app';\r\nimport ErrorBoundry from './components/error-boundry';\r\nimport MoviestoreService from './services/moviestore-service';\r\nimport { MoviestoreServiceProvider } from './components/moviestore-service-context';\r\n\r\nimport store from './store';\r\n\r\nconst moviestoreService = new MoviestoreService();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ErrorBoundry>\r\n      <MoviestoreServiceProvider value={moviestoreService}>\r\n        <App/>\r\n      </MoviestoreServiceProvider>\r\n    </ErrorBoundry>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}